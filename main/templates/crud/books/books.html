{% extends "/crud/crud_layout.html" %} {% block title %} Books {% endblock %} {%
block header %}Books{% endblock %} {% block add %}books/add{% endblock %} {%
block add_title %}Add Book{% endblock %} {% block headers %}
<th scope="col">
  <a href="{{ url_for('books.books', sort='book_id', order=next_order) }}"
    >Book Id {% if sort_column == 'book_id' %} {% if current_order == 'asc' %} ▲
    {% elif current_order == 'desc' %} ▼ {% endif %} {% endif %}</a
  >
</th>
<th scope="col">
  <a href="{{ url_for('books.books', sort='isbn', order=next_order) }}"
    >ISBN {% if sort_column == 'isbn' %} {% if current_order == 'asc' %} ▲ {%
    elif current_order == 'desc' %} ▼ {% endif %} {% endif %}</a
  >
</th>
<th scope="col">
  <a href="{{ url_for('books.books', sort='title', order=next_order) }}">
    Title {% if sort_column == 'title' %} {% if current_order == 'asc' %} ▲ {%
    elif current_order == 'desc' %} ▼ {% endif %} {% endif %}
  </a>
</th>
<th scope="col">
  <a href="{{ url_for('books.books', sort='author_id', order=next_order) }}"
    >Author ID {% if sort_column == 'author_id' %} {% if current_order == 'asc'
    %} ▲ {% elif current_order == 'desc' %} ▼ {% endif %} {% endif %}</a
  >
</th>
<th scope="col">
  <a
    href="{{ url_for('books.books', sort='publication_year', order=next_order) }}"
    >Publication Year {% if sort_column == 'publication_year' %} {% if
    current_order == 'asc' %} ▲ {% elif current_order == 'desc' %} ▼ {% endif %}
    {% endif %}</a
  >
</th>
<th scope="col">
  <a href="{{ url_for('books.books', sort='publisher_id', order=next_order) }}"
    >Publisher ID {% if sort_column == 'publisher_id' %} {% if current_order ==
    'asc' %} ▲ {% elif current_order == 'desc' %} ▼ {% endif %} {% endif %}</a
  >
</th>
<th scope="col">Operations</th>
{% endblock %} {% block rows %} {% for book in books %}
<tr>
  <td>{{ book[0] }}</td>
  <td>{{ book[1] }}</td>
  <td>{{ book[2] }}</td>
  <td>{{ book[3] }}</td>
  <td>{{ book[4] }}</td>
  <td>{{ book[5] }}</td>
  <td class="d-flex flex-column gap-1">
    <button
      class="btn btn-primary w-100"
      onclick="location.href='/books/update/{{ book[0] }}'"
    >
      Update
    </button>
    <form
      action="/books/delete/{{ book[0] }}"
      method="POST"
      style="display: inline"
      onsubmit="return confirmDelete()"
    >
      <button type="submit" class="btn btn-danger w-100">Delete</button>
    </form>
  </td>
</tr>
{% endfor %} {% endblock %} {% block scripts %}
<script>
  function confirmDelete() {
    return confirm("Are you sure you want to delete this book?");
  }
</script>
{% endblock %}
