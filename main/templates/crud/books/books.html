{% extends "/crud/crud_layout.html" %}
{% block title %} Books {% endblock %}
{% block header %}Books{% endblock %}
{% block add %}books/add{% endblock %}
{% block add_title %}Add Book{% endblock %}
{% block headers %}
<th scope="col">Book Id</th>
<th scope="col">ISBN</th>
<th scope="col">Title</th>
<th scope="col">Author ID</th>
<th scope="col">Publication Year</th>
<th scope="col">Publisher ID</th>
<th scope="col">Operations</th>
{% endblock %}
{% block rows %}
{% for book in books %}
<tr>
  <td>{{ book[0] }}</td>
  <td>{{ book[1] }}</td>
  <td>{{ book[2] }}</td>
  <td>{{ book[3] }}</td>
  <td>{{ book[4] }}</td>
  <td>{{ book[5] }}</td>
  <td class="d-flex flex-column gap-1">
    <button class="btn btn-primary w-100" onclick="location.href='/books/update/{{ book[0] }}'">Update</button>
    <form action="/books/delete/{{ book[0] }}" method="POST" style="display:inline;" onsubmit="return confirmDelete()">
      <button type="submit" class="btn btn-danger w-100">Delete</button>
    </form>
  </td>
</tr>
{% endfor %}
{% endblock %}

{% block scripts %}
<script>
function confirmDelete() {
    return confirm("Are you sure you want to delete this book?");
}
</script>
{% endblock %}